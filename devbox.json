{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.10.6/.schema/devbox.schema.json",
  "packages": ["nodejs@20", "postgresql@latest", "colima@latest"],
  "env": {
    "DEVBOX_COREPACK_ENABLED": "true"
  },
  "shell": {
    "init_hook": [
      "yarn",
      "test -f .env || cp .env.example .env",
      "nextauth_secret=$(openssl rand -base64 32) && calendso_encryption_key=$(openssl rand -base64 24) && sed -i -e \"s|^NEXTAUTH_SECRET=.*|NEXTAUTH_SECRET=$nextauth_secret|\" -e \"s|^CALENDSO_ENCRYPTION_KEY=.*|CALENDSO_ENCRYPTION_KEY=$calendso_encryption_key|\" .env",
      "colima status || colima start",
      "yarn dx"
    ],
    "scripts": {
      "test": ["echo \"Error: no test specified\" && exit 1"]
    }
  }
}
